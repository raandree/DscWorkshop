NodeName: '[x={ $Node.Name }=]'
Environment: '[x={ $File.Directory.BaseName } =]'
Role: FileServer
Description: '[x= "$($Node.Role) in $($Node.Environment)" =]'
Location: Frankfurt
Baseline: Server

ComputerSettings:
  Name: '[x={ $Node.NodeName }=]'
  Description: '[x= "$($Node.Role) in $($Node.Environment)" =]'

NetworkIpConfiguration:
  Interfaces:
    - InterfaceAlias: DscWorkshop 0
      IpAddress: 192.168.111.100

PSDscAllowPlainTextPassword: True
PSDscAllowDomainUser: True

LcmConfig:
  ConfigurationRepositoryWeb:
    Server:
      ConfigurationNames: '[x={ $Node.NodeName }=]'

DscTagging:
  Layers:
    - '[x={ Get-DatumSourceFile -Path $File } =]'
  NodeVersion: '[x={ $datum.Baselines.DscLcm.DscTagging.Version } =]'
  NodeRole: '[x={ $Node.Role } =]'

FileSystemObjects:
  Items:
    - DestinationPath: Z:\DoesNotWork
      Type: Directory

Configurations:
  - ChocolateyPackages

ChocolateyPackages:
  Software:
    Ensure: Present
    PackageFeedUrl: https://community.chocolatey.org/api/v2/
    Version: 2.5.1
    ChocoTempDir: C:\ChocoTemp
    InstallationDirectory: C:\ProgramData\Chocolatey

  Sources:
    - Name: Chocolatey
      Ensure: Present
      Source: https://chocolatey.org/api/v2
      Priority: 0
      Disabled: False
      BypassProxy: True
      SelfService: True

  Packages:
    - Name: notepadplusplus
      Ensure: Present
      Version: Latest
    - Name: winrar
      Version: Latest
      Rank: 100   # winrar is installed before notepadplusplus (with the default rank)
      #ForceReboot: true
